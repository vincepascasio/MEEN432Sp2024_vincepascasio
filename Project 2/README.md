## Project 2 Week 1 Submission

For this week, the team was tasked to plot a generated race track that had given measurements for the sections. The sections consisted of two curved sections and 2 straightaway sections. A square/rectangular patch was created to simulate a vehicle going around the generated track; the patch follows the generated points of the center line of the track, and the patch rotates when it goes through the curved sections. Download the "Team23_Project2_Week1.m" file and hit Run. The code should display a plot of the mentioned details above, which is a patch (representative of a vehicle) that travels along the generated track. The team asked for help during office hours and had some initial code regarding the patch and the plot of the generated track, but had some trouble with the animated line and generating a patch that travels along the centerline of the animated line. With some adjustments made from the advice given by the TA, the team was able to tweak the code in order to achieve the goals for the Week 1 submission.

## Week 1 Feedback (5/5)
Good job Team 23! For Week 2, start developing a lateral dynamic model of a vehicle that contains subsystems that are listed in the Week 2 document.

## Project 2 Week 2 Submission

For this week, the team was tasked to develop and add lateral dynamic components to the project so that the vehicle model can complete one lap as fast as possible without getting out of the track width (recall that the track width is 15 m). This week, the team developed a Simulink model to simulate the lateral dynamic components. Download the file "Team23_project2_week2.slx" to access this week's project deliverables. In the Simulink block diagram, you will see three subsystems, with the first subsystem called "Driver". This subsystem takes in the inputs of X and Y coordinates and feeds them into a SimpleDriver function to output Vxd and delta_f (i.e., steering angle); this subsystem simulates a lateral control system to estimate the steering angle. This subsystem is still a work in progress as some of the blocks in the diagram do not work. Next up is a lateral dynamics subsystem that considers tire slip and tire forces to estimate the lateral velocity (v_y) and vehicle heading in psi. Next is a Transformation/Rotation subsystem that transforms and outputs the X and Y coordinates. Lastly, there is the XY Graph block to plot the vehicle path. The loop is then completed by feeding the X, Y, and heading back to the Driver subsystem. As stated previously, this model is still a work in progress so when you hit "Run" after double clicking on the "XY Graph" block to simulate the graph, it will not run. The team will aim to debug and fix this problem before the final deliverables for this project.

## Week 2 Feedback (4.4/5)
I have a few comments I'd like to make, for the final submission please make sure to upload the "init.m" and "raceStat.m" along with your project. The second thing would be that within the Simulink model, there are some blocks that need to be updated/fixed as they're calling carData structure information using the masked variable name "obj" however none of the blocks have the mask enabled so the Simulink would cause errors upon running. For the final submission, continue to work through the Simulink model and tweaking it so that you are able to stay on track and go around the track as fast as possible. Now that you have the Simulink model, you can animate the rectangular patch from week 1 using the car simulation data and animate the vehicle going around the race track. The team will also need to utilize the raceStat function somewhere in the MATLAB script to see how many loops the vehicle is able to do and to see information regarding the vehicle leaving the track.

## Project 2 Final Deliverables
These are the final deliverables for Project 2. This consists of applying the Simulink model made in the week 2 deliverables and making use of it in the scripts that the team wrote for animating a patch (vehicle) along a generated track. To begin, download the files "init.m", "raceStat.m", "Team23_project2_final.m", and "Project2_Final.slx" and add the files to their own folder in order for MATLAB/Simulink to not have issues when the scripts are run. To begin, run the "init.m" function in the command window; this function contains data related to the properties of the car that will be used to help develop the lateral dynamics of the vehicle. The "Project2_Final.slx" should have the stop time and all the various subsystems/functions already set and to check how it looks, click on the "XY Graph" and hit "Run" to see a graph of the points plotted along the track. Afterward, run the "Team23_project2_final.m" script; this script was mostly the code from Week 1 that created a patch (vehicle) along a generated track. Some slight changes were made to this code that incorporated the block diagram and the "raceStat" function; this function takes the inputs from the vehicle simulation and outputs the number of loops the vehicle went around the track, an array of times that the start line was crossed, and information if the vehicle goes off track. This "raceStat" function was integrated into the "Team23_project2_final.m" script, but run the "raceStat" function after "init" and before "Team23_project2_final" to ensure the scripts run in the proper order. The generated track was off at certain parts, such as the end of the second curved section (juts out at an angle), and the second straightaway (tilted down slightly), which meant that the vehicle was off the track for those certain parts. However, the vehicle followed its generated path in a loop just fine, it was just that the vehicle was not centered along the width of the track for some parts. 

## Final Week Feedback (83/85)
Good Job Team 23! I have a few comments about the plotting of the vehicle. I saw in the script that there is code that plots the track and then plots the vehicle patch, but the wrong inputs were used. On line 42, you should be plotting xtrack and ytrack instead of the carX and carY. Those values should be used in the for loop on line 61. I would suggest also utilizing the script that was used in Week 1 called "Animate.m" there are some things that can be changed within the script but it would allow you to plot the race track and the path of the vehicle as the patch animates through the simulated car data. One thing I noticed with the Simulink model is that as we increase the simulation time, we see that the vehicle steers off track after the first loop. This most likely being caused by the driver model. For the individual members to succeed in Project 4, I would advise each member to work on the driver model from Project 2 and attempt to implement a path following controller such as pure pursuit. A more sophisticated model will allow for the vehicle to move faster depending on where it is on the track which will be important for Project 4, as each member will need to combine this model with the Project 3 model to create a vehicle that can move around the track as fast as possible while simulating the lateral and longitudinal dynamics of the vehicle. 
